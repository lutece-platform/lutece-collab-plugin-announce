<#include "getTextAreaContent_macro.html" />

<@formGroup labelFor='attribute${entry.idEntry}' labelKey='${entry.title}' mandatory=entry.mandatory htmlRequired=false>
	<#assign field=getFieldByCode( entry, "text_config")>
	<#if list_responses??>
		<#list list_responses as response>
			<#if response.entry.idEntry == entry.idEntry && response.valueResponse??>
				<#if response.entry.error??>
					<@getTextAreaContent responseContent=response.valueResponse has_error=true entry=entry field=field/>
				<#else>
					<@getTextAreaContent responseContent=response.valueResponse has_error=false entry=entry field=field/>
				</#if>
			</#if>
		</#list>
	<#else>
			<#if field.value?exists>
				<@getTextAreaContent responseContent=field.value has_error=false entry=entry field=field/>
			<#else>
				<@getTextAreaContent responseContent="" has_error=false entry=entry field=field/>
			</#if>
	</#if>
	<#if entry.helpMessage?exists&&entry.helpMessage!=''>
		<@formHelp> 
			${entry.helpMessage}
		</@formHelp>
	</#if>
	<#if list_responses??>
		<#list list_responses as response>
			<#if response.entry.idEntry == entry.idEntry && response.entry.error??>
				<@alert color='danger'>
					<#assign error = response.entry.error>
					<#if error.mandatoryError>
						#i18n{announce.message.mandatory.entry}
					<#else>
						${error.errorMessage}
					</#if>
				</@alert>
			</#if>
		</#list>
	</#if>
</@formGroup>
<#if entry.fieldInLine>
	<#include "/util/editor/editor.html" />
	<@initEditor />
</#if>