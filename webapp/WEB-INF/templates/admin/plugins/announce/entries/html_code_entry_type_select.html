<#if list_responses??>
	<#list list_responses as response>
	  <#if response.entry.idEntry == entry.idEntry && response.entry.error??>
		<#assign groupStyle = 'error' />
		<#break>
	  </#if>
	</#list>
	<#assign inputClass = entry.CSSClass! />
</#if>
<@formGroup labelFor='attribute${entry.idEntry}' labelKey='${entry.title}' mandatory=entry.mandatory htmlRequired=false>
	<@select name='attribute${entry.idEntry}' id='attribute${entry.idEntry}' class=inputClass!''>
		<option value="">#i18n{announce.xpage.form.noValue}</option>
		<#list entry.fields as field>
			<#if field.code == 'answer_choice'>
				<option  value="${field.idField}" 
					<#if field.comment?? && field.comment != ''>
						title="${field.comment}"
					</#if>
					<#if list_responses?has_content>
						<#list list_responses as response>
							<#if response.entry.idEntry == entry.idEntry && response.field??>
								<#if response.field.idField == field.idField>
									selected ="selected"
									<#break>
								</#if>
							</#if>
						</#list>
					<#else>
						<#if field.defaultValue>
							selected ="selected"
						</#if>
					</#if>
					>
						${field.title}
					</option>
					</#if>
				</#list>
	</@select>
	<#if entry.helpMessage?exists&&entry.helpMessage!=''>
		<@formHelp>${entry.helpMessage}</@formHelp>
	</#if>
	<#if list_responses??>
		<#list list_responses as response>
			<#if response.entry.idEntry == entry.idEntry && response.entry.error??>
				<@alert color='danger'>
					<#assign error = response.entry.error>
					<#if error.mandatoryError>
						#i18n{announce.message.mandatory.entry}
					<#else>
						${error.errorMessage}
					</#if>
				</@alert>	
			</#if>
		</#list>
	</#if>
</@formGroup>