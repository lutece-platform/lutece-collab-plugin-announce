<@div params='style="display: grid; grid-template-columns: 1fr 1fr; grid-gap: 20px;"'>
  <@div class='first_box' params='style="padding: 20px;"'>
	<@box>
		<@boxHeader title="#i18n{announce.modifyEntry.titleQuestion}  - ${category.label}  - #i18n{announce.createEntry.labelType}  ${entry.entryType.title}" />
		<@boxBody>
			<@tform class='form-horizontal' action='jsp/admin/plugins/announce/ManageCategoryEntries.jsp' method='post' >
			<@input name='action' value='doModifyEntry' type='hidden' />
			<@input name='id_entry' value='${entry.idEntry}' type='hidden' /> 
			<@formGroup class='form-group' labelKey='#i18n{announce.createEntry.labelTitle}' mandatory=true>
				<@input type='text' name='title' id='title' class='form-control' value='${entry.title}' maxlength=255 />
				<@span class='help-block'>#i18n{announce.createEntry.labelTitleComment}</@span>
			</@formGroup>
			<@formGroup class='form-group' labelKey='#i18n{announce.createEntry.labelHelpMessage}' >
				<@input type='textarea' name='help_message' id='help_message' class='form-control' value='${entry.helpMessage}' rows=2 />
				<@span class='help-block'>#i18n{announce.createEntry.labelHelpMessageComment}</@span>
			</@formGroup>
			<@formGroup class='form-group' labelKey='#i18n{announce.createEntry.labelComment}' >
				<@input type='textarea' name='comment' id='comment' class='form-control' value='${entry.comment}' rows=2 />
			</@formGroup>
			<@formGroup>
				<#if entry.mandatory>
					<@checkBox orientation='switch' labelFor='mandatory' labelKey='#i18n{announce.createEntry.labelMandatory}' name='mandatory' id='mandatory' value='1' params='onchange="javascript:changeVisilityAnonymizePattern();"' checked=true />
				<#else>
					<@checkBox orientation='switch' labelFor='mandatory' labelKey='#i18n{announce.createEntry.labelMandatory}' name='mandatory' id='mandatory' value='1' params='onchange="javascript:changeVisilityAnonymizePattern();"' checked=false />
				</#if>
			</@formGroup>
			<@formGroup class='form-group' labelKey='#i18n{announce.createEntry.labelCSSClass}' >
				<@input type='text' name='css_class' value='${entry.CSSClass!}' maxlength=255 class='form-control' />
				<@span class='help-block'>#i18n{announce.createEntry.labelCSSClassComment}</@span>
			</@formGroup>
			<@formGroup>
				<@button type='submit' name='action_modifyQuestion' buttonIcon='save' title='#i18n{announce.modifyEntry.buttonSave}' hideTitle=['xs'] size='' />
				<@button class='btn btn-primary btn-flat' name='apply' type='submit' ><@icon class='fa fa-floppy-o'></@icon>&nbsp;#i18n{announce.modifyEntry.buttonApply}</@button>
				<@aButton class='btn btn-default btn-flat' title='#i18n{announce.modifyEntry.buttonCancel}' params='style="background-color: #ffffff; color: black;"' href='jsp/admin/plugins/announce/ModifyCategory.jsp?category_id=${category.id}' />
			</@formGroup>
			</@tform>
		</@boxBody>
	</@box>
  </@div>
  <@div class='second_box' params='style="padding: 20px;"'>
  		<@boxHeader title='#i18n{announce.createEntry.manageField.title}' >
	  		<@tform action='jsp/admin/plugins/announce/ManageCategoryFields.jsp?view=getCreateField&id_entry=${entry.idEntry}'>
				<@button type='submit' name='view_createHomeWorking' buttonIcon='plus' title='#i18n{announce.createEntry.manageField.buttonInsert}' />
			</@tform>
  		</@boxHeader>
  		<@box>
  			<@table>
  				<@tr> 
					<@th>#i18n{announce.createEntry.manageField.rowTitle}</@th>
					<@th>#i18n{announce.createEntry.manageField.rowValue}</@th>
					<@th>#i18n{announce.createEntry.manageField.rowDefaultValue}</@th>
					<@th> #i18n{announce.createEntry.manageField.rowActions}</@th>
				</@tr>
	  			<@tableHeadBodySeparator />
	  			<#assign cpt=0>
				<#list list as field>
				<#assign cpt=cpt+1>
					<@tr>
						<@td>${field.title}</@td>
						<@td>${field.value}</@td>
						<@td><#if field.defaultValue><@span class='label label-success'><@icon class='fa fa-check'></@icon></@span></#if></@td>
						<@td>
							<@aButton class='btn btn-primary btn-xs btn-flat' href='jsp/admin/plugins/announce/ManageCategoryFields.jsp?view=getModifyField&id_field=${field.idField}' title='#i18n{portal.util.labelModify}' hideTitle=['all'] buttonIcon='pencil' />					
							<#if cpt!=1>
								<@aButton class='btn btn-primary btn-xs btn-flat' href='jsp/admin/plugins/announce/ManageCategoryFields.jsp?action=doMoveFieldUp&id_field=${field.idField}#list' title='#i18n{announce.createEntry.manageField.titleMoveUp}' hideTitle=['all'] buttonIcon='chevron-up' />								
							</#if> 
							<#if field_has_next >
								<@aButton class='btn btn-primary btn-xs btn-flat' href='jsp/admin/plugins/announce/ManageCategoryFields.jsp?&action=doMoveFieldDown&id_field=${field.idField}#list' title='#i18n{announce.createEntry.manageField.titleMoveDown}' hideTitle=['all'] buttonIcon='chevron-down' />
							</#if>
							<@aButton class='btn btn-danger btn-xs btn-flat' href='jsp/admin/plugins/announce/ManageCategoryFields.jsp?view=getConfirmRemoveField&id_field=${field.idField}#list' title='#i18n{announce.createEntry.manageField.titleDelete}' buttonIcon='trash' hideTitle=['all'] color='danger' />
						</@td>
					</@tr>
				</#list>
  			</@table>
  		</@box>
  </@div>	
</@div>
<#include "/admin/util/editor/editor.html" />
<@initEditor />